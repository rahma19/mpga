<div style="width: 80vw;" cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>
  <div class="card text-center" [hidden]="loading " clickNoRightClick>
    <div class="card-header font-weight-bold black-text p-0"> DÃ©tails Ecart
      <button type="button" class="float-right waves-light btn red-yellow p-0 pl-3 pr-3" mdbWavesEffect
        (click)="Fermer()">
        <i class="fa fa-times"></i>
      </button>
      <button type="button" class="float-right waves-light btn red-yellow p-0 pl-3 pr-3" *ngIf="isOpened==true"
        title='minimize' (click)="Mini(isOpened)"><i class="fa fa-window-minimize" aria-hidden="true"></i></button>
      <button type="button" class="float-right waves-light btn red-yellow p-0 pl-3 pr-3" *ngIf="isOpened==false "
        title='maximize' (click)="Maxi(isOpened2)"><i class="fa fa-window-maximize" aria-hidden="true"></i></button>
    </div>
  </div><br>
 
  <div class="form-inline" [hidden]="!isOpened">
    <h6 style="color: #e22d2c;margin-left: 4%;margin-right: 2%;font-weight: bold;margin-top:8px;">Date :</h6><span>{{date}}</span>
  </div><br>

  <div [hidden]="loading ">
    <div class="table-responsive " >
        <table  mat-table matSort [dataSource]="source" class="mat-elevation-z8">
          <!-- Item Column -->
          <ng-container  matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 13%;"> {{'transaction.column_date' | translate}} </th>
            <td mat-cell *matCellDef="let row" style="width: 13%;" > {{row.date}} </td>
          </ng-container>

          <ng-container matColumnDef="codeMagasin">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: right;padding-right: 20px;">{{'ecart.codeMag' | translate}} </th>
            <td mat-cell *matCellDef="let row" style="text-align: right;width: 10%;"> <span style="padding-right: 50px;">{{row.codeMagasin}} </span></td>
          </ng-container>

          <ng-container matColumnDef="vcn">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 15%;">{{'ecart.vcn' | translate}} </th>
            <td mat-cell *matCellDef="let row" style="width: 15%;padding-right: 10px;"> {{row.vcn}} </td>
          </ng-container>

          <ng-container  matColumnDef="refmpga">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 15%;"> {{'ecart.refmpga' | translate}} </th>
            <td mat-cell  *matCellDef="let row" style="width: 15%;padding-right: 10px;">  {{row.refmpga}}  </td>
          </ng-container>

          <ng-container matColumnDef="autorisation">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 10%;"> {{'ecart.autorisation' | translate}} </th>
            <td mat-cell *matCellDef="let row" style="width: 10%;padding-right: 10px;"> {{row.autorisation}}  </td>
          </ng-container>

          <ng-container matColumnDef="montant">
            <th  mat-header-cell  *matHeaderCellDef mat-sort-header  style="width: 10%;"> {{'ecart.montant' | translate}} </th>
            <td mat-cell  *matCellDef="let row" style="text-align: right;width: 10%;"> <span style="padding-right: 50px;">{{row.montant }} </span>  </td>
          </ng-container>

          <ng-container matColumnDef="typeAnomalie">
            <th  mat-header-cell  *matHeaderCellDef mat-sort-header style="padding-right: 10px;"> {{'ecart.typeAnomalie' | translate}} </th>
            <td mat-cell  *matCellDef="let row" style="padding-right: 10px;width: 10%;">  {{row.typeAnomalie }}  </td>
          </ng-container>

          <ng-container matColumnDef="ecart">
            <th  mat-header-cell  *matHeaderCellDef mat-sort-header style="width: 20%;" > {{'ecart.ecart' | translate}} </th>
            <td mat-cell  *matCellDef="let row" style="padding-right: 10px;width: 20%;">  {{row.ecart }}  </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumnsEcarts" id="mat-table"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumnsEcarts;"
            style="background-color: rgb(238, 200, 119);"></tr>
          <tr class="mat-row" *matNoDataRow>
            <td colspan="9">
              <h4 class="text-center"> {{'EcartVide' | translate}}</h4>
            </td>
          </tr>
          
        </table>
        <mat-paginator  [pageSize]="row_nbr" hidePageSize showFirstLastButtons></mat-paginator>
  </div>
  </div>

  <div *ngIf="loading" clickNoRightClick>
    <div class="spinner-imgage">
      <!-- <img src="../../../../assets/aziza-logo.jpg" alt=""> -->
    </div>
    <h5 id="titreload">Chargement en cours ....</h5>
  </div>

</div>